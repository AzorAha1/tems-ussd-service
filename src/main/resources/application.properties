spring.application.name=Tems
server.port=8080

# Tell Spring Data which repositories belong to which store
spring.data.jpa.repositories.type=jpa
spring.data.redis.repositories.type=none

# Disable open-in-view warning
spring.jpa.open-in-view=false

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/tems
spring.datasource.username=faisal
spring.datasource.password=

# JPA/Hibernate Configuration - CRITICAL CHANGES
# CHANGE FROM 'update' TO 'validate' AFTER FIRST RUN
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# REMOVE these properties that cause recreation
# spring.jpa.defer-datasource-initialization=true
# spring.jpa.properties.hibernate.hbm2ddl.auto=update
# spring.jpa.generate-ddl=true

# Keep only essential Hibernate properties
spring.jpa.properties.hibernate.show_sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false

# SQL Initialization - Keep as never
spring.sql.init.mode=never

# Security
security.ignored=/**
spring.security.enabled=false

# Aggregator Configuration
aggregator.api.key=PrYtKgFhmg08FulS8a7
aggregator.mtn.product.id=PD-16468241771000
aggregator.airtel.product.id=PD-16618033881000
aggregator.webhook.url=https://f087-105-112-206-115.ngrok-free.app/api/v1/tems/webhook/aggregator

# Correct Host URLs from Documentation
aggregator.mtn.url=http://91.109.117.92:8001/api/v1
aggregator.airtelor9mobile.url=http://78.110.161.243:8001/api/v1

# Redis Configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.serializer.type=string

# Minimal Logging for production
logging.level.com.example.tems=INFO
logging.level.root=INFO